var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var canvas=void 0,ctx=void 0,render=void 0,init=void 0,blob=void 0,Blob=function(){function t(){_classCallCheck(this,t),this.points=[]}return _createClass(t,[{key:"init",value:function(){for(var t=0;t<this.numPoints;t++){var i=new Point(this.divisional*(t+1),this);this.push(i)}}},{key:"render",value:function(){var t=this.canvas,i=this.ctx,n=(this.position,this.points),e=(this.radius,this.numPoints),o=(this.divisional,this.center);i.clearRect(0,0,t.width,t.height),n[0].solveWith(n[e-1],n[1]);var s=n[e-1].position,a=n[0].position,r=a;i.beginPath(),i.moveTo(o.x,o.y),i.moveTo((s.x+a.x)/2,(s.y+a.y)/2);for(var c=1;c<e;c++){n[c].solveWith(n[c-1],n[c+1]||n[0]);var u=n[c].position,h=(a.x+u.x)/2,l=(a.y+u.y)/2;i.quadraticCurveTo(a.x,a.y,h,l),i.fillStyle="#000000",a=u}h=(a.x+r.x)/2,l=(a.y+r.y)/2;i.quadraticCurveTo(a.x,a.y,h,l),i.fillStyle=this.color,i.fill(),i.strokeStyle="#000000",requestAnimationFrame(this.render.bind(this))}},{key:"push",value:function(t){t instanceof Point&&this.points.push(t)}},{key:"color",set:function(t){this._color=t},get:function(){return this._color||"#000000"}},{key:"canvas",set:function(t){t instanceof HTMLElement&&"canvas"===t.tagName.toLowerCase()&&(this._canvas=canvas,this.ctx=this._canvas.getContext("2d"))},get:function(){return this._canvas}},{key:"numPoints",set:function(t){2<t&&(this._points=t)},get:function(){return this._points||32}},{key:"radius",set:function(t){0<t&&(this._radius=t)},get:function(){return this._radius||150}},{key:"position",set:function(t){"object"==(void 0===t?"undefined":_typeof(t))&&t.x&&t.y&&(this._position=t)},get:function(){return this._position||{x:.5,y:.5}}},{key:"divisional",get:function(){return 2*Math.PI/this.numPoints}},{key:"center",get:function(){return{x:this.canvas.width*this.position.x,y:this.canvas.height*this.position.y}}},{key:"running",set:function(t){this._running=!0===t},get:function(){return!1!==this.running}}]),t}(),Point=function(){function n(t,i){_classCallCheck(this,n),this.parent=i,this.azimuth=Math.PI-t,this._components={x:Math.cos(this.azimuth),y:Math.sin(this.azimuth)},this.acceleration=.6*Math.random()-.3}return _createClass(n,[{key:"solveWith",value:function(t,i){this.acceleration=(-.3*this.radialEffect+(t.radialEffect-this.radialEffect)+(i.radialEffect-this.radialEffect))*this.elasticity-this.speed*this.friction}},{key:"acceleration",set:function(t){"number"==typeof t&&(this._acceleration=t,this.speed+=2*this._acceleration)},get:function(){return this._acceleration||0}},{key:"speed",set:function(t){"number"==typeof t&&(this._speed=t,this.radialEffect+=5*this._speed)},get:function(){return this._speed||0}},{key:"radialEffect",set:function(t){"number"==typeof t&&(this._radialEffect=t)},get:function(){return this._radialEffect||0}},{key:"position",get:function(){return{x:this.parent.center.x+this.components.x*(this.parent.radius+this.radialEffect),y:this.parent.center.y+this.components.y*(this.parent.radius+this.radialEffect)}}},{key:"components",get:function(){return this._components}},{key:"elasticity",set:function(t){"number"==typeof t&&(this._elasticity=t)},get:function(){return this._elasticity||.001}},{key:"friction",set:function(t){"number"==typeof t&&(this._friction=t)},get:function(){return this._friction||.0085}}]),n}();blob=new Blob,(init=function(){canvas=document.getElementById("blob");var t=function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight};window.addEventListener("resize",t),t();var l={x:0,y:0},f=!1;window.addEventListener("mousemove",function(t){var i=blob.center,n=t.clientX-i.x,e=t.clientY-i.y,o=Math.sqrt(n*n+e*e),s=null;if(blob.mousePos={x:i.x-t.clientX,y:i.y-t.clientY},o<blob.radius&&!1===f){var a={x:t.clientX-i.x,y:t.clientY-i.y};s=Math.atan2(a.y,a.x),f=!0}else if(o>blob.radius&&!0===f){var r={x:t.clientX-i.x,y:t.clientY-i.y};s=Math.atan2(r.y,r.x),f=!1,blob.color=null}if("number"==typeof s){var c=null,u=100;if(blob.points.forEach(function(t){Math.abs(s-t.azimuth)<u&&(c=t,u=Math.abs(s-t.azimuth))}),c){var h={x:l.x-t.clientX,y:l.y-t.clientY};100<(h=10*Math.sqrt(h.x*h.x+h.y*h.y))&&(h=100),c.acceleration=h/100*(f?-1:1)}}l.x=t.clientX,l.y=t.clientY}),blob.canvas=canvas,blob.init(),blob.render()})();